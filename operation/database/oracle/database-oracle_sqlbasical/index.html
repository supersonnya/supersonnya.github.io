<!DOCTYPE html>
<style>
    html {
        height: 100vh;
    }
    body {
        min-height: 100vh;
        display: grid;
        grid-template-rows: 1fr auto;
    }
    .footer {
        grid-row-start: 2;
        grid-row-end: 3;
    }
</style>
<html lang="zh-cn"><head>
  <meta charset="utf-8">
  <title>Sonnya</title>
  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" property="og:description" content="SQL语言基础">
  <meta name="image" property="og:image" content="/">
  <meta name="author" content="SuperSonnya">
  <meta name="generator" content="Hugo 0.101.0" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.2.6/dist/css/uikit.min.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="/css/style.min.css" integrity="" media="screen">
  
  <link rel="stylesheet" href="/css/syntax.min.css" integrity="" media="screen">
  
  <script src="https://cdn.jsdelivr.net/npm/mailgo@0.9.14/dist/mailgo.min.js" defer></script>

  <!--Favicon-->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  
  <link href="https://cdn.bootcss.com/font-awesome/5.8.2/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/jqueryui/1.12.1/jquery-ui.min.js"></script>
  
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  
  
  <link rel="stylesheet" href="https://supersonnya.github.io/css/style-refractored.min.5eda6424eeb5869fa8bd4e5577365da4bf2d967864f5d24ebab356489da9a431.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css"/>
  
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/base-min.css">
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/grids-min.css">
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/grids-responsive-min.css">
  
   
</head>
<body class="operation">
    <div class="wrapper"><div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky; bottom: #transparent-sticky-navbar">
    <nav class="uk-navbar-container uk-margin" uk-navbar="mode: click;" style="padding-right: 3rem">
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@s">
                
                <li><a style="font-size: 18px; text-transform: none" href="/"> Home
                        </a></li>

                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/frontend">Frontend</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/programlang">Programlang</a></li>
                
                
                
                
                
                
                
                
                
                <li class="uk-active">
                    <a style="font-size: 18px; text-transform:none"
                        href="/operation">Operation</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/foreignlang">Foreignlang</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/records">Records</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/countdown">Countdown</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/dandan">Jessica</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/supersonnya">Sonnya</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/moments">Moments</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/about">About</a></li>
                
                
            </ul>

            <a class="uk-navbar-toggle uk-hidden@s" uk-toggle="target: #sidenav" uk-navbar-toggle-icon href="#"></a>

        </div>
    </nav>
</div>

<div id="sidenav" uk-offcanvas="overlay: true">
    <div class="uk-offcanvas-bar uk-flex uk-flex-column">

        <ul class="uk-nav uk-nav-primary uk-nav-center uk-margin-auto-vertical">
            
            <li><a style="font-size: 18px" href="https://supersonnya.github.io/"> Home </a></li>

            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/frontend">Frontend</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/programlang">Programlang</a></li>
            
            
            
            
            
            
            
            
            
            <li class="uk-active"><a style="font-size: 18px" href="/operation">Operation</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/foreignlang">Foreignlang</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/records">Records</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/countdown">Countdown</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/dandan">Jessica</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/supersonnya">Sonnya</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/moments">Moments</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/about">About</a></li>
            
            
        </ul>

    </div>
</div>




<style>
    :root {
        --title-color: #8064a9;
        --text-color: #444444;
        --light-text-color: #666666;
        --lighter-text-color: #888888;
        --link-color: #2aa899;
        --code-color: #745fb5;
        --border-quote: rgba(116, 95, 181, 0.2);
        --border-quote-grey: #c8c8c8;
        --border: #e7e7e7;
        --link-bottom: #bbb;
        --shadow: 3px 3px 10px var(--shadow-color);
        --inline-code-bg: #f4f2f9;
        --header-weight: normal;
        --base-font: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
        --title-font: "EB Garamond", "Source Sans Pro", serif;
        --monospace: Courier, Monospace !important;
    }

    html {
        font-size: 16px;
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        text-rendering: optimizelegibility;
        -webkit-font-smoothing: initial;
    }

    body {
        color: var(--text-color);
        -webkit-font-smoothing: antialiased;
        line-height: 1.6;
        letter-spacing: 0;
        overflow-x: hidden;
    }

     

    a {
        color: var(--link-color);
        text-decoration: none;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        position: relative;
        margin-top: 2rem;
        margin-bottom: 1rem;
        font-weight: var(--header-weight);
        line-height: 1.3;
        cursor: text;
        color: var(--title-color) !important;
        font-family: var(--title-font);
    }

    h1 {
        text-align: center;
        margin-bottom: 2rem;
        line-height: 1.5;
    }

    h1:after {
        content: "";
        display: block;
        margin: 0.2rem auto 0;
        width: 6rem;
        height: 2px;
        border-bottom: 2px solid var(--title-color);
    }

    h3 {
        padding-left: 0.4em;
        border-left: 0.4em solid var(--title-color);
        border-bottom: 1px solid var(--title-color);
    }

    h1 tt,
    h1 code {
        font-size: inherit;
    }
    h2 tt,
    h2 code {
        font-size: inherit;
    }
    h3 tt,
    h3 code {
        font-size: inherit;
    }
    h4 tt,
    h4 code {
        font-size: inherit;
    }
    h5 tt,
    h5 code {
        font-size: inherit;
    }
    h6 tt,
    h6 code {
        font-size: inherit;
    }

    p,
    blockquote,
    ul,
    ol,
    dl,
    table {
        margin: 0.8em 0;
    }


     

    hr {
        margin: 1.5em auto;
        border-top: 1px solid var(--border);
    }


     

    li>ol,
    li>ul {
        margin: 0 0;
    }

    li p.first {
        display: inline-block;
    }

    ul,
    ol {
        padding-left: 2rem;
    }

    ul:first-child,
    ol:first-child {
        margin-top: 0;
    }

    ul:last-child,
    ol:last-child {
        margin-bottom: 0;
    }


     

    blockquote {
        border-left: 0.3rem solid var(--border-quote);
        padding-left: 1em;
        font-family: var(--base-font);
    }


     

    table {
        margin-bottom: 1.25rem;
    }

    table th,
    table td {
        padding: 8px;
        line-height: 1.25rem;
        vertical-align: middle;
        border: 1px solid #ddd;
    }

    table th {
        font-weight: bold;
    }

    table thead th {
        vertical-align: middle;
    }

    table tr:nth-child(2n),
    thead {
        background-color: #fcfcfc;
    }

    code,
    tt {
        padding: 0px 0px;
        font-family: var(--monospace);
        font-size: 0.9rem;
        color: var(--code-color) !important;
        background-color: var(--inline-code-bg);
        margin: 0 2px;
    }

    .uk-container {
        max-width: 900px;
    }

    pre {
        position: relative;
        padding: 20px 10px 0px 10px;
        margin-bottom: 0px;
    }

    .post-content pre code {
     font-family: Consolas;
 }

 pre::after {
    display: block;
    content: " ";
    position: absolute;
    border-radius: 50%;
    background: #ff5f56;
    width: 12px;
    height: 12px;
    top: 0;
    left: 12px;
    margin-top: 12px;
    -webkit-box-shadow: 20px 0 #ffbd2e, 40px 0 #27c93f;
    box-shadow: 20px 0 #ffbd2e, 40px 0 #27c93f;
}
div .highlight {
	overflow: hidden;
	border-radius: 20px !important;
}
</style>

<section>
  <div class="uk-container uk-margin-medium-bottom">
    <h1 class="uk-text-center uk-heading-small">Database Oracle_sqlbasical</h1>
    
    <p class="uk-text-center uk-text-muted">Aug 18, 2022</p>
    <p class="uk-text-center uk-text-muted">Reading time: 26 minutes.</p>
    
<hr class="full-width">

<div class="content">
  <h3 id="sql语言简介">SQL语言简介</h3>
<ul>
<li>SQL，结构化查询语言，是一种在关系型数据库中定义和操纵数据的标准语言。</li>
</ul>
<h4 id="sql语言的特点">SQL语言的特点</h4>
<ul>
<li>SQL是一种非过程化语言，让用户不用考虑诸如数据的存储格式和存储路径等复杂问题就能按照自己的要求在高层数据结构上操作。</li>
<li>综合统一、集合性、统一性、高度非过程化、语言简单，易学易用、以同一种语法结构提供两种使用方式、是所有关系数据库的公共语言。</li>
</ul>
<h4 id="sql语言的分类">SQL语言的分类</h4>
<h5 id="数据查询语言dql">数据查询语言（DQL）</h5>
<ul>
<li>检索数据库中的数据，主要是SELECT。</li>
</ul>
<h5 id="数据操纵语言dml">数据操纵语言（DML）</h5>
<ul>
<li>改变数据库中的数据，主要包括INSERT、UPDATE、DELETE。CALL、LOCKTABLE、MERGE。</li>
</ul>
<h5 id="事务控制语言tcl">事务控制语言（TCL）</h5>
<ul>
<li>维护数据的统一性，包括COMMIT、ROLLBACK、SAVEPOINT。</li>
</ul>
<h5 id="数据定义语言ddl">数据定义语言（DDL）</h5>
<ul>
<li>建立、修改和删除数据库对象，包括CREATE、ALTER、DROP。TRUNCATE。</li>
</ul>
<h5 id="数据控制语言dcl">数据控制语言（DCL）</h5>
<ul>
<li>执行权限授予和权限收回操作，包括GRANT、REVOKE。</li>
</ul>
<h4 id="sql语言的编写规则">SQL语言的编写规则</h4>
<ul>
<li>SQL关键字不区分大小写，字符值区分大小写。</li>
</ul>
<h3 id="用户模式">用户模式</h3>
<ul>
<li>为便于管理用户创建的数据库对象，引入模式概念，某个用户创建的数据库对象属于该用户模式。</li>
</ul>
<h4 id="模式与模式对象">模式与模式对象</h4>
<ul>
<li>模式是一个数据库对象的集合，模式名称与数据库用户名称相同。在一个模式内部不可以直接访问其他模式的数据库对象，即使具有访问权限，也需要指定模式名称才可以访问。</li>
<li>模式对象是用户创建的逻辑结构，用以存储或引用数据，包括段以及用户拥有的其他非段的数据库对象。模式拥有模式对象。</li>
<li>一个不为某个用户所拥有的数据库对象不能被称为模式对象，如角色、表空间、目录等数据库对象。</li>
</ul>
<h4 id="查询用户模式表">查询用户模式表</h4>
<ol>
<li>在用户模式下，查询<code>user_tables</code>。</li>
<li>在system模式下，查询<code>dba_tables</code>。</li>
</ol>
<h3 id="检索数据">检索数据</h3>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 检索基本语法格式
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span><span style="color:#a61717;background-color:#e3d2d2">{</span>[<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">DISTINCT</span><span style="color:#666"> </span>|<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">ALL</span>]<span style="color:#666"> </span>columns<span style="color:#666"> </span>|<span style="color:#666"> </span>*<span style="color:#a61717;background-color:#e3d2d2">}</span><span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">INTO</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">table_name</span>]<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span><span style="color:#a61717;background-color:#e3d2d2">{</span>tables<span style="color:#666"> </span>|<span style="color:#666"> </span>views<span style="color:#666"> </span>|<span style="color:#666"> </span>other<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span><span style="color:#a61717;background-color:#e3d2d2">}</span>[<span style="color:#6ab825;font-weight:bold">WHERE</span><span style="color:#666"> </span>conditions]<span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">GROUP</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">BY</span><span style="color:#666"> </span>columns]<span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">HAVING</span><span style="color:#666"> </span>conditions]<span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">ORDER</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">BY</span><span style="color:#666"> </span>columns]<span style="color:#666">
</span></span></span></code></pre></div><h4 id="简单查询">简单查询</h4>
<ul>
<li>只包含SELECT子句和FROM子句的查询。</li>
<li>在Oracle数据库中，ROWID是行标识符，是内部使用的隐藏列，长度为18字符，包含该行数据的物理地址。使用DESCRIBE无法显示，但可在SELECT语句中检索。</li>
</ul>
<h5 id="查询日期列">查询日期列</h5>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 以简体中文显示日期结果
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">alter</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">session</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">set</span><span style="color:#666"> </span>nls_date_language<span style="color:#666"> </span>=<span style="color:#666"> </span><span style="color:#ed9d13">&#39;SIMPLIFIED CHINESE&#39;</span>;<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 以美国英语显示日期结果
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">alter</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">session</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">set</span><span style="color:#666"> </span>nls_date_language<span style="color:#666"> </span>=<span style="color:#666"> </span><span style="color:#ed9d13">&#39;AMERICAN&#39;</span>;<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 以特定格式显示日期结果
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">alter</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">session</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">set</span><span style="color:#666"> </span>nls_date_format<span style="color:#666"> </span>=<span style="color:#666"> </span><span style="color:#ed9d13">&#39;YYYY&#34;年&#34;MM&#34;月&#34;DD&#34;日&#34;&#39;</span>;<span style="color:#666">
</span></span></span></code></pre></div><h5 id="处理null值">处理NULL值</h5>
<ul>
<li>
<p>NULL表示未知值，既不是空，也不是0，插入数据时不提供值且未设置默认值，则结果为NULL。实际应用中，NULL显示结果往往不符合要求，需使用NUL函数，转换为合理的结果。</p>
</li>
<li>
<p>当算数表达式包含NULL时，如果不处理NULL，则显示结果为空。</p>
</li>
</ul>
<h5 id="连接字符串">连接字符串</h5>
<ul>
<li>当连接字符串时，如果在字符串中加入数字值可直接指定，若加入字符值或日期值，必须使用单引号引住。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 使用||操作符连接字符串，其中一个&#39;是转义符
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>ename,||<span style="color:#666"> </span><span style="color:#ed9d13">&#39;&#39;&#39;&#39;</span><span style="color:#666"> </span>||<span style="color:#ed9d13">&#39;s job is &#39;</span>||job<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp;<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 使用函数CONCAT连接字符串
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>concat(concat(ename,<span style="color:#666"> </span><span style="color:#ed9d13">&#39;&#39;&#39;s salary is &#39;</span>),<span style="color:#666"> </span>sal)<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp;<span style="color:#666">
</span></span></span></code></pre></div><h4 id="筛选查询">筛选查询</h4>
<ul>
<li>使用WHERE实现对数据行的筛选操作。</li>
</ul>
<h5 id="比较筛选">比较筛选</h5>
<ul>
<li>
<p>进行比较筛选时，字符串和日期的值必须使用单引号标识，否则会提示标识符无效。</p>
</li>
<li>
<p>A{operator}ANY(B)：A与B中任何元素进行operator运算符比较，有一个为true，就返回数据行。</p>
</li>
<li>
<p>A{operator}ALL(B)：A与B中所有元素进行operator运算符比较，所有都为true，才返回数据行。</p>
</li>
</ul>
<h5 id="特殊关键字筛选">特殊关键字筛选</h5>
<ul>
<li>LIKE：字符串模糊查询，搭配通配符<code>%</code>和<code>_</code>使用。可使用NOT LIKE，表示否定判断。
<ul>
<li>查询的字符串中若含<code>%</code>和<code>_</code>，使用转义关键字escape实现：<code>LIKE 'IT\_%' escape '\';</code></li>
</ul>
</li>
<li>IN：测试一个数据值是否匹配一组目标值中的一个。可使用NOT IN，表示否定判断。</li>
<li>BETWEEN AND：某个数值是否位于两个给定的值之间，包括两端的值，给出的第一个值必须小于第二个值。可使用NOT BETWEEN AND，表示否定判断。</li>
<li>IS NULL：检测特殊值之间的等价性。不能使用比较运算符，永远返回false。</li>
</ul>
<h5 id="逻辑筛选">逻辑筛选</h5>
<ul>
<li>AND：逻辑与。</li>
<li>OR：逻辑或。</li>
<li>NOT：逻辑非。</li>
</ul>
<h4 id="分组查询">分组查询</h4>
<ul>
<li>进行单列分组时，会基于分组列的每个不同值生成一个统计结果。
<ul>
<li>SELECT子句后面只可以有统计函数和进行分组的列名。</li>
<li>SELECT子句中的列名必须是进行分组的列，GROUP BY后的列名可以不出现在SLELECT子句中。</li>
<li>默认按照指定的分组列升序排列，重新排序需使用ORDER BY。</li>
<li>若一个查询使用了分组函数，任何不在分组函数中的列或表达式必须在GROUP BY子句中。</li>
</ul>
</li>
<li>HAVING子句可以包含聚集函数，HAVING子句接受来自GROUP BY、WHERE或FROM子句的输出。</li>
<li>使用ROLLUP，在保留原有统计结果的基础上，还会生成横向小计和总计。使用CUBE，生成横向小计、纵向小计和总计。<code>group by rollup(deptno, job); group by cube(deptno, job);</code>。</li>
<li>ROLLUP和CUBE生成统计结果时，某个统计结果可能用到一列或多列，也可能没有使用任何列，使用GROUPING函数确定是否使用了特定列，返回0表示使用该列，1表示没有使用。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>deptno,<span style="color:#666"> </span>job,<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">sum</span>(sal),<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">grouping</span>(deptno),<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">grouping</span>(job)<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">group</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">by</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">rollup</span>(deptno,<span style="color:#666"> </span>job);<span style="color:#666">
</span></span></span></code></pre></div><ul>
<li>在ROLLUP和CUBE中使用复合列。</li>
<li>使用GROUPING SETS，合并分组结果。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 显示部门和岗位的平均工资
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>deptno,<span style="color:#666"> </span>job,<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">avg</span>(sal)<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">group</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">by</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">grouping</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">sets</span>(deptno,<span style="color:#666"> </span>job);<span style="color:#666">
</span></span></span></code></pre></div><h4 id="排序查询">排序查询</h4>
<ul>
<li>ASC表示升序排列，为默认排序方式，DESC表示降序排列。</li>
<li>可以使用列号排序，当使用UNION、UNION ALL、INTERSECT、MINUS等集合操作符合并列查询结果时，若列名不同，排序必须使用列号。不推荐使用列号排序方法。</li>
<li>执行排序操作时，排序列可以不是选择列表中的列。</li>
</ul>
<h4 id="多表关联查询">多表关联查询</h4>
<h5 id="表的别名">表的别名</h5>
<ul>
<li>一旦在FROM子句中为表指定了别名，必须在剩余的子句中使用别名，不允许再使用原来的表名称。</li>
</ul>
<h5 id="内连接">内连接</h5>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span>columns_list<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span>table_name1<span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">INNER</span>]<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">JOIN</span><span style="color:#666"> </span>table_name2<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">ON</span><span style="color:#666"> </span>join_condition;<span style="color:#666">
</span></span></span></code></pre></div><h5 id="外连接">外连接</h5>
<ul>
<li>外连接可以使用外连接运算符<code>+</code>，可以放在等号的左边或右边，但必须位于缺少相应信息即完全满足连接条件行的一边。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 若where子句中有多个条件，必须所有条件都包含+
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- +操作符只适用于列，不能用于表达式
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- +不能与ON和IN操作符一起使用
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>e.empno,<span style="color:#666"> </span>e.ename,<span style="color:#666"> </span>e.job,<span style="color:#666"> </span>d.deptno,<span style="color:#666"> </span>d.dname<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp<span style="color:#666"> </span>e,<span style="color:#666"> </span>dept<span style="color:#666"> </span>d<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">where</span><span style="color:#666"> </span>e.deptno(+)=d.deptno;<span style="color:#666">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 左外连接查询结果中包含满足连接条件的数据行和左表中不满足连接条件的行
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span>columns_list<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span>table_name1<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">LEFT</span><span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">OUTER</span>]<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">JOIN</span><span style="color:#666"> </span>table_name2<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">ON</span><span style="color:#666"> </span>join_condition;<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 右外连接查询结果中包含满足连接条件的数据行和右表中不满足连接条件的行
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span>columns_list<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span>table_name1<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">RIGHT</span><span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">OUTER</span>]<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">JOIN</span><span style="color:#666"> </span>table_name2<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">ON</span><span style="color:#666"> </span>join_condition;<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 执行全外连接时，会执行一个左外连接和一个右外连接，然后将查询结果合并并消除重复的记录行
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span>columns_list<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span>table_name1<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FULL</span><span style="color:#666"> </span>[<span style="color:#6ab825;font-weight:bold">OUTER</span>]<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">JOIN</span><span style="color:#666"> </span>table_name2<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">ON</span><span style="color:#666"> </span>join_condition;<span style="color:#666">
</span></span></span></code></pre></div><h5 id="自然连接">自然连接</h5>
<ul>
<li>自然连接指在检索多个表时，Oracle将第一个表与第二个表中具有相同名称的列进行自动连接，用户不需要明确指定连接列，由Oracle自动完成，自然连接使用关键字NATURAL JOIN。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 自然连接强制要求列名相同，很少使用
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 使用自然连接不能为列指定限定词，即表名或表的别名
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>empno,<span style="color:#666"> </span>ename,<span style="color:#666"> </span>job,<span style="color:#666"> </span>dname<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">natural</span><span style="color:#666"> </span>dept<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">where</span><span style="color:#666"> </span>sal<span style="color:#666"> </span>&gt;<span style="color:#666"> </span><span style="color:#3677a9">2000</span>;<span style="color:#666">
</span></span></span></code></pre></div><h5 id="自连接">自连接</h5>
<ul>
<li>自引用式外键指表中的一个列可以是该表主键的一个外键。</li>
<li>自连接是在同一张表之间的连接查询，必须定义表别名。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">select</span><span style="color:#666"> </span>em2.ename,<span style="color:#666"> </span>em1.ename<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">from</span><span style="color:#666"> </span>emp<span style="color:#666"> </span>em1<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">left</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">join</span><span style="color:#666"> </span>emp<span style="color:#666"> </span>em2<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">on</span><span style="color:#666"> </span>em1.mgr=em2.empno;<span style="color:#666">
</span></span></span></code></pre></div><h5 id="交叉连接">交叉连接</h5>
<ul>
<li>不需要任何连接条件的连接，使用CROSS JOIN关键字。执行结果是一个笛卡尔积，这种查询结果非常冗余，但可以通过WHERE子句过滤出有用的记录信息。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">SELECT</span><span style="color:#666"> </span>columns_list<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span>table_name1<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">CROSS</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">JOIN</span><span style="color:#666"> </span>table_name2;<span style="color:#666">
</span></span></span></code></pre></div><h3 id="oracle常用系统函数">Oracle常用系统函数</h3>
<h4 id="字符类函数">字符类函数</h4>
<ul>
<li>专门用来字符处理的函数，处理对象可以是字符、字符串常量、字符类型的列。</li>
<li>dual是Oracle系统内部提供的一个用于临时数据计算的特殊表，只有一个列<code>dummy</code>，类型为<code>VARCHAR2(1)</code>。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 返回一个字符的ASCII码，c代表一个字符
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>ASCII(<span style="color:#6ab825;font-weight:bold">c</span>)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回ASCII码值对应的字符，i表示一个ASCII码值
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>CHR(i)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 将s2连接到s1的后面，若s1为NULL，返回s2；若s2为NULL，返回s1；若都为空，返回NULL
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>CONCAT(s1,s2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 将字符串s的每个单词的第一个字母大写，其他字母小写，单词间用空格、控制字符、标点符号区分
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>INITCAP(s)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回s2在字符串s1中第j次出现的位置，搜索从第i个字符开始，没找到字符返回0，i、j默认值为1
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 若i为负数，将从右到左搜索，但返回值位置仍从左到右计算
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>INSTR(s1,s2[,i][,j])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回字符串s的长度，若s为NULL，则返回值为NULL
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">LENGTH</span>(s)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回字符串的小写形式和大写形式
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">LOWER</span>(s)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">UPPER</span>(s)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 删除字符串s1左边的字符串s2，若不指定s2，表示去除空格
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>LTRIM(s1,s2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 删除字符串s1右边的字符串s2，若不指定s2，表示去除空格
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>RTRIM(s1,s2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 删除字符串s1两端的字符串s2，若不指定s2，表示去除空格
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">TRIM</span>(s1,s2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 使用s3字符串替换s1中的所有s2，并返回替换后的字符串，s3默认为空字符串
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">REPLACE</span>(s1,s2[,s3])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 从字符串s的第i个位置开始截取长度为j的子串，若省略j，直接截取到尾部
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>SUBSTR(s,i[,j])<span style="color:#666">
</span></span></span></code></pre></div><h4 id="数字类函数">数字类函数</h4>
<ul>
<li>主要用于执行各种数据计算，所有的数字类函数都有数字参数并返回数字值。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 返回n的绝对值
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">ABS</span>(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回大于或等于n的最小整数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>CEIL(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回n的余弦值，n为弧度
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>COS(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回e的n次幂，e=2.71828183
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>EXP(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回小于或等于n的最大整数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>FLORR(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回以n1为底n2的对数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>LOG(n1,n2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回n1除以n2的余数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">MOD</span>(n1,n2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回n1的n2次方
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>POWER(n1,n2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回舍入小数点右边n2位的n1的值，n2默认为0，会返回小数最接近的整数，即保留位数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 若n2为负数，舍入到小数点左边相应位上，n2必须为整数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>ROUND(n1,n2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 若n为负数，返回-1；若n为正数，返回1；若n=0，返回0
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>SIGN(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回n的平方根
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>SQRT(n)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回结尾到n2位小数的n1的值，n2默认为0，会将n1截尾为整数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 若n2为负数，就截尾在小数点左边相应的位上，n2必须为整数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>TRUNC(n1,n2)<span style="color:#666">
</span></span></span></code></pre></div><h4 id="日期和时间函数">日期和时间函数</h4>
<ul>
<li>日期类型默认格式为：DD-MON-YY。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 返回日期d加上i个月之后的结果，i为任意整数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>ADD_MONTH(d,i)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回包含日期d月份的最后一天
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>LAST_DAY(d)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回日期d1和d2之间的数目，若d1和d2的日期相同，或都是该月的最后一天，则返回一个整数，否则返回的结果包含一个小数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>MONTHS_BETWEEN(d1,d2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- d1是一个日期数据类型，当时区t1中的日期是d1时，返回时区t2中的日期和时间，t1和t2是字符串
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>NEW_TIME(d1,t1,t2)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回系统当前日期
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>SYSDATE()<span style="color:#666">
</span></span></span></code></pre></div><h4 id="转换类函数">转换类函数</h4>
<ul>
<li>将某个数据从一种数据类型转换为另外一种数据类型。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 将字符串s转换为RWID数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>CHARTORWIDA(s)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 将字符串s由bset字符集转换为aset字符集
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">CONVERT</span>(s,aset[,bset])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 将ROWID数据类型转换为CHAR类型
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>ROWIDTOCHAR()<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 将表达式转换为字符串，format表示字符串格式
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>TO_CHAR(x[,format])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 将字符串s转换成DATE类型，format表示字符串格式，lan表示使用的语言
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>TO_DATE(s[,format[lan]])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 返回字符串s代表的数字，返回值按format格式显示，format表示字符串格式，lan表示使用的语言
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>TO_NUMBER(s[,format[lang]])<span style="color:#666">
</span></span></span></code></pre></div><h4 id="聚集类函数">聚集类函数</h4>
<ul>
<li>针对一组数据进行计算，并得到相应的结果。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 列表项目可以是一个列或多个列的表达式
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">AVG</span>(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">MAX</span>(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">MIN</span>(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">SUM</span>(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>VARIANCE(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666"> </span><span style="color:#999;font-style:italic">-- 统计方差
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>STDDEV(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666">   </span><span style="color:#999;font-style:italic">-- 标准偏差
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 返回查询结果中的记录数
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">COUNT</span>(x[<span style="color:#6ab825;font-weight:bold">DISTINCT</span>|<span style="color:#6ab825;font-weight:bold">ALL</span>])<span style="color:#666">
</span></span></span></code></pre></div><h3 id="子查询">子查询</h3>
<ul>
<li>子查询是在SQL语句内的另外一条SELECT语句，也称为内查询或内SELECT语句。在SELECT、INSERT、UPDATE或DELETE命令中允许是一个表达式的地方都可以包含子查询，子查询还可以包含在另外一个子查询中。</li>
<li>相比多表关联查询，子查询的使用更加灵活、功能更加强大，但效率低于多表关联查询。外查询语句检索一行，子查询语句需要检索一遍数据，然后判断外查询语句的条件是否满足，若满足则添加到结果集，不满足则外查询继续检索下一行数据，所以子查询相对多表查询要慢。</li>
<li>子查询必须用<code>()</code>括起来；子查询中不能包含ORDER BY子句；子查询嵌套不能超过255层。</li>
</ul>
<h4 id="单行子查询">单行子查询</h4>
<ul>
<li>返回一行数据的子查询。在WHERE子句中引用单行子查询时，可以使用单行比较运算符<code>=|&gt;|&lt;|&gt;=|&lt;=|&lt;&gt;</code>。</li>
<li>执行单行子查询时，子查询的返回结果必须是一行数据，否则会提示无法执行。</li>
</ul>
<h4 id="多行子查询">多行子查询</h4>
<ul>
<li>返回多行数据的子查询语句，当在WHERE子句中使用多行子查询时，必须使用多行比较符<code>IN|ANY|ALL</code>。</li>
<li>IN：外查询尝试与子查询结果中的任何一个结果匹配，只要有一个匹配成功，外查询返回当前检索的记录。</li>
<li>ANY：必须与单行操作符结合使用，只要匹配子查询的任何一个结果即可。</li>
<li>ALL：必须与单行操作符结合使用，返回行必须匹配所有子查询结果。</li>
</ul>
<h4 id="关联子查询">关联子查询</h4>
<ul>
<li>在一些特殊需求的子查询中，内查询的执行需要借助于外查询，内查询和外查询是相互关联的，称为关联子查询。执行关联子查询的过程中，必须遍历数据表中的每条记录，如果被遍历的数据表中有大量数据记录，执行速度会比较缓慢。</li>
<li>关联子查询可以作为SELECT、INSERT、UPDATE、DELETE语句的关联子查询。</li>
</ul>
<h3 id="操作数据库">操作数据库</h3>
<h4 id="插入数据">插入数据</h4>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">INSERT</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">INTO</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">table_name</span>[(column_name1[,column_name2]...)]<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">VALUES</span>(express1[,express2]...)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">INSERT</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">INTO</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">table_name</span>[(column_name1[,column_name2]...)]<span style="color:#666"> </span>selectSubquery<span style="color:#666">
</span></span></span></code></pre></div><ul>
<li>INSERT INTO指定的列名可以与SELECT子查询不同，但数据类型必须是兼容的，插入时必须满足列约束。</li>
<li>插入日期若希望使用习惯格式，必须使用TO_DATE函数进行转换。</li>
<li>可以使用DEFAULT提供数值，若存在默认值，则使用默认值，若不存在则自动使用NULL。</li>
<li>可将INSERT语句写入SQL脚本，并使用变量为表插入数据。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>accept<span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">no</span><span style="color:#666"> </span>prompt<span style="color:#666"> </span><span style="color:#ed9d13">&#39;input no: &#39;</span><span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>accept<span style="color:#666"> </span>name<span style="color:#666"> </span>prompt<span style="color:#666"> </span><span style="color:#ed9d13">&#39;input name: &#39;</span><span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>accept<span style="color:#666"> </span>title<span style="color:#666"> </span>prompt<span style="color:#666"> </span><span style="color:#ed9d13">&#39;input title: &#39;</span><span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>accept<span style="color:#666"> </span>d_no<span style="color:#666"> </span>prompt<span style="color:#666"> </span><span style="color:#ed9d13">&#39;input d_no: &#39;</span><span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">INSERT</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">INTO</span><span style="color:#666"> </span>emp(empno,<span style="color:#666"> </span>ename,<span style="color:#666"> </span>job,<span style="color:#666"> </span>hiredate,<span style="color:#666"> </span>deptno)<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#6ab825;font-weight:bold">VALUES</span>(&amp;<span style="color:#6ab825;font-weight:bold">no</span>,<span style="color:#666"> </span><span style="color:#ed9d13">&#39;&amp;name&#39;</span>,<span style="color:#666"> </span><span style="color:#ed9d13">&#39;&amp;title&#39;</span>,<span style="color:#666"> </span>SYSDATE,<span style="color:#666"> </span>&amp;d_no);<span style="color:#666">
</span></span></span></code></pre></div><h4 id="更新数据">更新数据</h4>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">UPDATE</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">table_name</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">SET</span><span style="color:#666"> </span><span style="color:#a61717;background-color:#e3d2d2">{</span>column_name1=express1[,column_name2=express2...]<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>|(column_name1[,column_name2...])=(selectSubquery)<span style="color:#a61717;background-color:#e3d2d2">}</span><span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>[<span style="color:#6ab825;font-weight:bold">WHERE</span><span style="color:#666"> </span>condition]<span style="color:#666">
</span></span></span></code></pre></div><ul>
<li>更新日期若希望使用习惯格式，必须使用TO_DATE函数进行转换。</li>
<li>可以使用DEFAULT更新数据，若存在默认值，则使用默认值，若不存在则自动使用NULL。</li>
</ul>
<h4 id="删除数据">删除数据</h4>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 指定WHERE子句删除满足条件的记录；不使用WHERE子句则删除所有数据
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- 使用DELETE语句删除系统会产生回滚记录，可以使用ROLLBACK语句来撤销
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">DELETE</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">FROM</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">table_name</span><span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span>[<span style="color:#6ab825;font-weight:bold">WHERE</span><span style="color:#666"> </span>condition]<span style="color:#666">
</span></span></span><span style="display:flex;"><span><span style="color:#666"></span><span style="color:#999;font-style:italic">-- 删除所有数据可以使用TRUNCATE，Oracle建议使用，删除速度更快，不会产生回滚记录，不能撤销
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- REUSE STORAGE：删除记录后仍然保存记录所占用的空间
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">-- DROP STORAGE：删除记录后立即回收记录占用空间，默认选项
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">TRUNCATE</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">TABLE</span><span style="color:#666"> </span><span style="color:#6ab825;font-weight:bold">table_name</span>;<span style="color:#666">
</span></span></span></code></pre></div><ul>
<li>在DML操作之前原始数据会复制到回滚段，这种设计本身在某些情况下会产生效率问题。当删除记录过多时回滚段所在磁盘空间将被耗光，导致数据库系统的挂起。所以删除大表时，可以使用TRUNCATE，因为TRUNCATE是DDL语句，不需要使用回滚段。</li>
</ul>

</div>
</div>
</div>
</section>

    </div>
<footer class="footer">
  <div class="uk-container">
  <div class="footer-copyright uk-text-center" style="padding-bottom: 0.5rem">
  	<a href="https://supersonnya.github.io/" uk-icon="icon: home; ratio: 1.1">
      <span class="uk-text-muted">2020-2022@SuperSonnya</span>
    </a>   
  </div>
</footer>
<!-- JS Plugins -->

<script src="https://cdn.jsdelivr.net/npm/uikit@3.2.6/dist/js/uikit.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/uikit@3.2.6/dist/js/uikit-icons.min.js"></script>

</body>
</html>
